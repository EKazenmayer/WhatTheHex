<!DOCTYPE html>
<html>

<head>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="stylesheet.css">
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Concert+One|Dosis:300|Raleway" rel="stylesheet">
</head>

<body>
<div id="welcome">
    <div class="wrapper">
        <h1 style="text-align:center;">What the Hex</h1>
        <p style="text-align:center; font-size:1.5em;">Practice converting values between
            decimal, binary, and hexadecimal and
            watch the page colors change!</p>
        <button class="button"><a href="lesson.html">Start Lesson</a></button>
    </div>
</div>

<div id="step1" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">This page is teal</h1>
        <h2 style="text-align:center;">Teal has a Red-Green-Blue (RGB) value of:</h2>
        <h3 style="text-align:center;">R: 57   G: 211  B: 199</h3>
    </div>
</div>

<div id="step2" class="step">
    <div class="wrapper" >
        <h1 style="text-align:center;">R: 57 = 10<sup>1</sup> x 5 + 10<sup>0</sup> x 7<br>G: 211 = 10<sup>2</sup> x 2 + 10<sup>1</sup> x 1 + 10<sup>0</sup> x 1</h1>
        <h2 style="text-align:center;">Now try converting the Blue (B) value: </h2>
    </div>
</div>

<div id="step3" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">Decimal values use base 10<br>Binary values use base 2</h1>
        <p style="text-align:center; font-size: 1.5em;">10 in decimal is<br>10<sup>1</sup> x 1 + 10<sup>0</sup> x 0<br>10 in binary is<br>2<sup>1</sup> x 1 + 2<sup>0</sup> x 0</p>
    </div>
</div>

<div id= "step4" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">The range of values for each digit in decimal is 0-9<br>The range of values for each digit in binary is 0-1</h1>
        <h2>The number of digits you have in binary should always be a multiple of 4, so if yours falls short, you can just add on 0's to the front of your converted value to make it fit!</h2>
    </div>
</div>

<div id="step5" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">Convert 57 to binary</h1>
    </div>
</div>

<div id="step6" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">A trick to converting any decimal value is to continually divide by the base value
            and write the remainders from right to left as you go</h1>
        <pre style="text-align:center;">
        211 / 2 = 105 R 1
        105 / 2 =  52 R 1
         52 / 2 =  26 R 0
         26 / 2 =  13 R 0
         13 / 2 =   6 R 1
          6 / 2 =   3 R 0
          3 / 2 =   1 R 1
          1 / 2 =   0 R 1
      </pre>
        <h2 style="text-align:center;">211<sub>10</sub> = 11010011<sub>2</sub></h2>
    </div>
</div>

<div id="step7" class="step">
    <h1 style="text-align:center;">Convert 199 to binary</h1>
</div>

<div id="step8" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">Converting three values just to get one color can get annoying, right? But every color has one unique hex value!</h1>
        <h2 style="text-align:center;">Pink's hex value is FFDBE4</h2>
    </div>
</div>

<div id="step9" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">Hexadecimal values are in base 16 and the range is 0-F. <br> Where the values above 9 are letters </h1>

        <table>
            <tr>
                <th>Dec </th>
                <td>0</td>
                <td>1</td>
                <td>2</td>
                <td>3</td>
                <td>4</td>
                <td>5</td>
                <td>6</td>
                <td>7</td>
                <td>8</td>
                <td>9</td>
                <td>10</td>
                <td>11</td>
                <td>12</td>
                <td>13</td>
                <td>14</td>
                <td>15</td>

            </tr>

            <tr>
                <th>Hex </th>
                <td>0</td>
                <td>1</td>
                <td><input type = "input" id="hex2" maxlength="1" size="2"> </td>
                <td><input type = "input" id="hex3" maxlength="1" size="2"> </td>
                <td><input type = "input" id="hex4" maxlength="1" size="2"></td>
                <td>5</td>
                <td>6</td>
                <td>7</td>
                <td><input type = "input" id="hex8" maxlength="1" size="2"> </td>
                <td>9</td>
                <td>A</td>
                <td>B</td>
                <td><input type = "input" id="hexC" maxlength="1" size="2"> </td>
                <td><input type = "input" id="hexD" maxlength="1" size="2"> </td>
                <td>E</td>
                <td><input type = "input" id="hexF" maxlength="1" size="2"></td>

            </tr>

        </table>
        <img src="cornerHex.png" class = "corner">
        <img src="sideHex.png" class = "side">
        <button onclick='checkHexChart([hex2,hex3,hex4,hex8,hexC,hexD,hexF])'>Submit</button>
    </div>
</div>

<div id="step10" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">So 39D3C7<sub>16</sub> <br> D=13 C=12 </h1>
        <h1 style="text-align:center;"> 16<sup>5</sup>x3 + 16<sup>4</sup>x9 + 16<sup>3</sup>xD + 16<sup>2</sup>x3 + 16<sup>1</sup>xC +16<sup>0</sup>x7 </h1>
        <h1 style="text-align:center;">= 3789767<sub>10</sub> </h1>
    </div>
</div>

<div id="step11" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">Converting directly between hexadecimal and decimal can be difficult.<br>However, converting between hexadecimal and binary is relatively simple!</h1>
        <p style="text-align:center; font-size:1.5em;">Take each individual hexadecimal digit, convert it to decimal, then convert that to binary<br>So for the first digit of FFDBE4,<br><br>F<sub>16</sub> = 15<sub>10</sub> = 2<sup>3</sup> x 1 + 2<sup>2</sup> x 1 + 2<sup>1</sup> x 1 + 2<sup>0</sup> x 1 = 1111<sub>2</sub></p>
    </div>
</div>

<div id="step12" class="step">
    <div class="wrapper">
        <h1 style="text-align:center;">FFDBE4<sub>16</sub> = <input type="input" id="final" maxlength="24" size="24"><sub>2</sub></h1>
        <button onclick='checkFinal("FFDBE4", 16, final, 2)'>Submit</button>
        <pre>B<sub>16</sub> = 11<sub>10</sub>    D<sub>16</sub> = 13<sub>10</sub>    E<sub>16</sub> = 14<sub>10</sub>    F<sub>16</sub> = 15<sub>10</sub></pre>
    </div>
</div>

<div id="step13" class="step">

    <h1 style="text-align:center;">Guess what color 1100 0110 1110 0101 1100 0001 is<br>Hex value = <input type="input" id="fin2" maxlength="6" size="6"></h1>
    <button onclick='checkFinal("110001101110010111000001", 2, fin2, 16)'>Submit</button>

</div>

<script>
    var expNum = 0;
    var divNum = 0;
    var allNum = 0;
    var s1 = 0;
    var s2 = 0;
    var s3 = 0;
    var s4 = 0;
    function checkHexChart(array){
        if(parseInt(array[0].value) == 2 && parseInt(array[1].value) == 3 && parseInt(array[2].value) == 4 && parseInt(array[3].value) == 8   && (array[4].value).toLowerCase() == 'c' && (array[5].value).toLowerCase() == 'd'  && (array[6].value).toLowerCase() == 'f' ){
            alert("Correct!");
            //animate
            return true;
        }else{
            alert("Incorrect. Try again!");
            return false;
        }
    }
    function checkFinal(target, targetBase, final, finalBase){
        if(parseInt(target, targetBase) == parseInt(final.value, finalBase)){
            alert("Correct!");
            //animate
            return true;
        }else{
            alert("Incorrect. Try again!");
            return false;
        }
    }
    function validate(target, base, inputs, final, num){
        var val = 0;
        for(var i = 0; i < inputs.length-1; i+=2){
            val += Math.pow(base, inputs[i].value)*inputs[i+1].value;
        }
        if(val == target && target == parseInt(final.value, base)){
            alert("Correct!");
            //animate
            if(num == 10){
                divNum += convertByDivision(14, 2, "step12", num);
            }
            return true;
        }else{
            alert("Incorrect. Try again!");
            return false;
        }
    }
    function checkAll(binary, inputs, dec, hex){
        const target = parseInt(binary, 2);
        const hexadecimal = target.toString(16);
        var val = 0;
        for(var i = 0; i < inputs.length-1; i+=2){
            val += Math.pow(2, inputs[i].value)*inputs[i+1].value;
        }
        if(target == dec.value && hex.value.toLowerCase() == hexadecimal && target == val){
            alert("Correct!");
            //animate
            return true;
        }else{
            alert("Incorrect. Try again!");
            return false;
        }
    }
    function checkDivision(quotient, remainder, id1, id2, base, divId, num){
        if(quotient == id1.value && remainder == id2.value) {
            alert("Correct!");
            if (quotient != 0) {
                convertByDivision(quotient, base, divId, (num + 1));
                return true;
            }else{
                //animate
                switch (num) {
                    case 3:
                        divNum += convertByDivision(13, 2, "step12", num);
                        break;
                    case 6:
                        expNum += convertByExpansion(11, 10, 2, "step12", num);
                        break;
                    case 13:
                        expNum += convertByExpansion(4, 10, 2, "step12", num);
                        break;
                    default:
                        break;
                }
            }
        }else {
            alert("Incorrect. Try again!");
            return false;
        }
    }
    function convertByDivision(target, base, divId, num){
        if(base == 0){
            alert("No! Invalid base");
            return;
        }
        const quotient = Math.floor(target / base);
        const remainder = target % base;
        const id1 = "a"+num;
        const id2 = "d"+num;
        const question = document.createElement("p");
        const q = document.createTextNode(target + " / " + base + " = ");
        question.appendChild(q);
        const box1 = document.createElement("input");
        box1.setAttribute("id", id1);
        box1.setAttribute("maxlength", 3);
        box1.setAttribute("size", 3);
        question.appendChild(box1);
        const r = document.createTextNode(" R ");
        question.appendChild(r);
        const box2 = document.createElement("input");
        box2.setAttribute("id", id2);
        box2.setAttribute("maxlength", 1);
        box2.setAttribute("size", 1);
        question.appendChild(box2);
        document.getElementById(divId).appendChild(question);
        const butt = document.createElement("button");
        butt.setAttribute("id", "checkDiv");
        const submit = document.createTextNode("Submit");
        butt.appendChild(submit);
        butt.onclick = function(){checkDivision(quotient, remainder, box1, box2, base, divId, num);};
        document.getElementById(divId).appendChild(butt);
        return num;
    }
    function convertByExpansion(target, sourceBase, targetBase, divId, num){
        if(targetBase == 0){
            alert("No! Invalid base");
            return;
        }
        const val = target;
        target = parseInt(target, sourceBase);
        var array = [];
        const question = document.createElement("p");
        const t = document.createTextNode(val);
        question.appendChild(t);
        var sub1 = document.createElement("sub");
        const s = document.createTextNode(sourceBase);
        sub1.appendChild(s);
        question.appendChild(sub1);
        const e = document.createTextNode(" = ");
        question.appendChild(e.cloneNode(true));
        const box3 = document.createElement("input");
        const q = document.createTextNode(targetBase);
        while(target != 0){
            question.appendChild(q.cloneNode(true));
            target = Math.floor(target / targetBase);
            const id1 = "e"+num;
            const id2 = "c"+num;
            const sup = document.createElement("sup");
            const box1 = document.createElement("input");
            box1.setAttribute("id", id1);
            box1.setAttribute("maxlength", 3);
            box1.setAttribute("size", 3);
            sup.appendChild(box1);
            question.appendChild(sup);
            const r = document.createTextNode(" x ");
            question.appendChild(r);
            const box2 = document.createElement("input");
            box2.setAttribute("id", id2);
            box2.setAttribute("maxlength", 2);
            box2.setAttribute("size", 2);
            question.appendChild(box2);
            num++;
            array.push(box1);
            array.push(box2);
            if(target != 0){
                const p = document.createTextNode(" + ");
                question.appendChild(p);
            }else{
                question.appendChild(e.cloneNode(true));
                box3.setAttribute("id", "b"+num);
                question.appendChild(box3);
                const sub2 = document.createElement("sub");
                sub2.appendChild(q.cloneNode(true));
                question.appendChild(sub2);
            }
        }
        document.getElementById(divId).appendChild(question);
        const butts = document.createElement("button");
        butts.setAttribute("id", "checkExp");
        const submit = document.createTextNode("Submit");
        butts.appendChild(submit);
        butts.onclick = function(){validate(val, targetBase, array, box3, num);};
        document.getElementById(divId).appendChild(butts);
        return num;
    }
    function convertFromBinary(binary, divId, num){
        var len = binary.length;
        var array = [];
        const question = document.createElement("p");
        const t = document.createTextNode(binary);
        question.appendChild(t);
        var sub1 = document.createElement("sub");
        const s = document.createTextNode("2");
        sub1.appendChild(s);
        question.appendChild(sub1);
        const e = document.createTextNode(" = ");
        question.appendChild(e.cloneNode(true));
        const box3 = document.createElement("input");
        const box4 = document.createElement("input");
        const q = document.createTextNode("2");
        while(len > 0){
            question.appendChild(q.cloneNode(true));
            len--;
            const id1 = "ex"+num;
            const id2 = "co"+num;
            const sup = document.createElement("sup");
            const box1 = document.createElement("input");
            box1.setAttribute("id", id1);
            box1.setAttribute("maxlength", 3);
            box1.setAttribute("size", 3);
            sup.appendChild(box1);
            question.appendChild(sup);
            const r = document.createTextNode(" x ");
            question.appendChild(r);
            const box2 = document.createElement("input");
            box2.setAttribute("id", id2);
            box2.setAttribute("maxlength", 1);
            box2.setAttribute("size", 1);
            question.appendChild(box2);
            num++;
            array.push(box1);
            array.push(box2);
            if(len > 0){
                const p = document.createTextNode(" + ");
                question.appendChild(p);
            }else{
                question.appendChild(e.cloneNode(true));
                box3.setAttribute("id", "bo"+num);
                question.appendChild(box3);
                const sub2 = document.createElement("sub");
                const d = document.createTextNode("10");
                sub2.appendChild(d);
                question.appendChild(sub2);
                question.appendChild(e.cloneNode(true));
                box4.setAttribute("id", "bo"+num+1);
                question.appendChild(box4);
                const sub3 = document.createElement("sub");
                const h = document.createTextNode("16");
                sub3.appendChild(h);
                question.appendChild(sub3);
            }
        }
        document.getElementById(divId).appendChild(question);
        const buttss = document.createElement("button");
        buttss.setAttribute("id", "validate");
        const submit = document.createTextNode("Submit");
        buttss.appendChild(submit);
        buttss.onclick = function(){checkAll(binary, array, box3, box4);};
        document.getElementById(divId).appendChild(buttss);
        return num;
    }
    expNum += convertByExpansion(199, 10, 10, "step2", expNum);
    expNum += convertByExpansion(57, 10, 2, "step5", expNum);
    divNum += convertByDivision(199, 2, "step7", divNum);
    divNum += convertByDivision(15, 2, "step12", divNum);
    allNum += convertFromBinary("1100", "step13", allNum);
    allNum += convertFromBinary("0110", "step13", allNum);
    allNum += convertFromBinary("1110", "step13", allNum);
    allNum += convertFromBinary("0101", "step13", allNum);
    allNum += convertFromBinary("1100", "step13", allNum);
    allNum += convertFromBinary("0001", "step13", allNum);
</script>
</body>

</html>