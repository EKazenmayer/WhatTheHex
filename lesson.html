<!DOCTYPE html>
<html>

<head>

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="stylesheet.css">
  <link href="https://fonts.googleapis.com/css?family=Amatic+SC" rel="stylesheet">

</head>

<body>
<div id="welcome">
  <h1 style="text-align:center;">What the Hex!?!</h1>
  <p style="text-align:center;">Practice converting values between
    decimal, binary, and hexadecimal and
    watch the page colors change!</p>
  <button class="button"><a href="lesson.html">Start Lesson</a></button>
  <button class="button"><a href="exercise1.html">Skip to Exercises</a></button>

</div>

  <div id="step1">
    <h1 style="text-align:center;">This page is teal</h1>
    <h2 style="text-align:center;">Teal has a Red-Green-Blue (RGB) value of:</h2>

    <h3 style="text-align:center;">R: 57   G: 211  B: 199</h3>
  </div>

  <div id="step2">
    <h1 style="text-align:center;">R: 57 = 10<sup>1</sup> x 5 + 10<sup>0</sup> x 7<br>G: 211 = 10<sup>2</sup> x 2 + 10<sup>1</sup> x 1 + 10<sup>0</sup> x 1</h1>
    <h2 style="text-align:center;">Now try converting the Blue (B) value: </h2>
  </div>

  <div id="step3">
    <h1 style="text-align:center;">Decimal values use base 10<br>Binary values use base 2</h1>
    <p style="text-align:center;">10 in decimal is<br>10<sup>1</sup> x 1 + 10<sup>0</sup> x 0<br>10 in binary is<br>2<sup>1</sup> x 1 + 2<sup>0</sup> x 0</p>
  </div>

  <div id= "step4">
    <h1 style="text-align:center;">The range of values for each digit in decimal is 0-9<br>The range of values for each digit in binary is 0-1</h1>
  </div>

  <div id="step5">
    <h1 style="text-align:center;">Convert 57 to binary</h1>
  </div>

  <div id="step6">
    <h1 style="text-align:center;">A trick to converting any decimal value is to continually divide by the base value
    and write the remainders from right to left as you go</h1>
    <pre style="text-align:center;">
      211 / 2 = 105 R 1
      105 / 2 =  52 R 1
       52 / 2 =  26 R 0
       26 / 2 =  13 R 0
       13 / 2 =   6 R 1
        6 / 2 =   3 R 0
        3 / 2 =   1 R 1
        1 / 2 =   0 R 1
    </pre>
    <h2 style="text-align:center;">211<sub>10</sub> = 11010011<sub>2</sub></h2>
  </div>

  <div id="step7">
    <h1 style="text-align:center;">Convert 199 to binary</h1>
  </div>

  <div id="step8">
    <h1 style="text-align:center;">Converting three values just to get one color can get annoying, right? But every color has one unique hex value!</h1>
    <h2 style="text-align:center;">Pink's hex value is FFDBE4</h2>
  </div>

<div id="step9">
  <h1 style="text-align:center;">Hexadecimal values are in base 16 and the range is 0-F. <br> Where the values above 9 are letters </h1>

  <div id="Dec">
    <pre class="tab"> <h3 style="text-align:center;">Dec 0       1       2       3       4       5       6       7       8       9       10      11      12      13    14      15</h3></pre>
  </div>
  <div id="Hex">
    <pre class="tab"> <h3 style="text-align:center;">Hex 0       1       <input type = "input" id="hex2" maxlength="1" size="2">      <input type = "input" id="hex3" maxlength="1" size="2">     <input type = "input" id="hex4" maxlength="1" size="2">     5       6       7      <input type = "input" id="hex8" maxlength="1" size="2">     9       A       B       <input type = "input" id="hexC" maxlength="1" size="2">     <input type = "input" id="hexD" maxlength="1" size="2">     E       <input type = "input" id="hexF" maxlength="1" size="2"></h3></pre>
  </div>

  <img src="cornerHex.png" class = "corner">
  <img src="sideHex.png" class = "side">
</div>

<div id="step10">
  <h1 style="text-align:center;">So 39D3C7<sub>16</sub> <br> D=13 C=12 </h1>
  <h1 style="text-align:center;"> 16<sup>5</sup>x3 + 16<sup>4</sup>x9 + 16<sup>3</sup>xD + 16<sup>2</sup>x3 + 16<sup>1</sup>xC +16<sup>0</sup>x7 </h1>
  <h1 style="text-align:center;">= 3789767<sub>10</sub> </h1>
</div>

  <div id="step11">
    <h1 style="text-align:center;">Converting directly between hexadecimal and decimal can be difficult.<br>However, converting between hexadecimal and binary is relatively simple!</h1>
    <p style="text-align:center;">Take each individual hexadecimal digit, convert it to decimal, then convert that to binary<br>So for the first digit of FFDBE4,<br>F<sub>16</sub> = 15<sub>10</sub> = 2<sup>3</sup> x 1 + 2<sup>2</sup> x 1 + 2<sup>1</sup> x 1 + 2<sup>0</sup> x 1 = 1111<sub>2</sub></p>
  </div>

  <div id="step12">
    <h1 style="text-align:center;">FFDBE4<sub>16</sub> = <input type="input" id="final" maxlength="24" size="24"</h1>
    <button onclick='checkFinal("FFDBE4", 16, final, 2)'>Submit</button>
    <pre>B<sub>16</sub> = 11<sub>10</sub>    D<sub>16</sub> = 13<sub>10</sub>    E<sub>16</sub> = 14<sub>10</sub>    F<sub>16</sub> = 15<sub>10</sub><pre>
  </div>

  <script>
    function checkFinal(target, targetBase, final, finalBase){
      if(parseInt(target, targetBase) == parseInt(final.value, finalBase)){
        alert("Correct!");
        return true;
      }else{
        alert("Incorrect. Try again!");
        return false;
      }
    }

    function validate(target, base, inputs, final){
      var val = 0;
      for(var i = 0; i < inputs.length-1; i+=2){
        val += Math.pow(base, inputs[i].value)*inputs[i+1].value;
      }
      alert(parseInt(final, base));
       if(val == target && target == parseInt(final, base)){
         alert("Correct!");
         return true;
       }else{
         alert("Incorrect. Try again!");
         return false;
       }
    }

    function checkDivision(quotient, remainder, id1, id2, base, divId, num){
      if(quotient == id1.value && remainder == id2.value){
        alert("Correct!");
        if(quotient != 0){
          convertByDivision(quotient, base, divId, (num+1));
        }
        return true;
      }else{
        alert("Incorrect. Try again!");
        return false;
      }
    }

    function convertByDivision(target, base, divId, num){
      if(base == 0){
        alert("No! Invalid base");
        return;
      }
      const quotient = Math.floor(target / base);
      const remainder = target % base;
      const id1 = "a"+num;
      const id2 = "d"+num;
      const question = document.createElement("p");
      const q = document.createTextNode(target + " / " + base + " = ");
      question.appendChild(q);

      const box1 = document.createElement("input");
      box1.setAttribute("id", id1);
      box1.setAttribute("maxlength", 3);
      box1.setAttribute("size", 3);
      question.appendChild(box1);
      const r = document.createTextNode(" R ");
      question.appendChild(r);

      const box2 = document.createElement("input");
      box2.setAttribute("id", id2);
      box2.setAttribute("maxlength", 1);
      box2.setAttribute("size", 1);
      question.appendChild(box2);
      document.getElementById(divId).appendChild(question);

      const butt = document.createElement("button");
      butt.setAttribute("id", "checkDiv");
      const submit = document.createTextNode("Submit");
      butt.appendChild(submit);
      butt.onclick = function(){checkDivision(quotient, remainder, box1, box2, base, divId, num);};
      document.getElementById(divId).appendChild(butt);
      return num;
    }

    function convertByExpansion(target, sourceBase, targetBase, divId, num){
      if(targetBase == 0){
        alert("No! Invalid base");
        return;
      }
      const val = target;
      var array = [];
      const question = document.createElement("p");
      const t = document.createTextNode(val);
      question.appendChild(t);
      var sub1 = document.createElement("sub");
      const s = document.createTextNode(sourceBase);
      sub1.appendChild(s);
      question.appendChild(sub1);
      const e = document.createTextNode(" = ");
      question.appendChild(e);
      const box3 = document.createElement("input");
      while(target != 0){
        const q = document.createTextNode(targetBase);
        question.appendChild(q);
        target = Math.floor(target / targetBase);
        const id1 = "e"+num;
        const id2 = "c"+num;

        const sup = document.createElement("sup");
        const box1 = document.createElement("input");
        box1.setAttribute("id", id1);
        box1.setAttribute("maxlength", 3);
        box1.setAttribute("size", 3);
        sup.appendChild(box1);
        question.appendChild(sup);

        const r = document.createTextNode(" x ");
        question.appendChild(r);

        const box2 = document.createElement("input");
        box2.setAttribute("id", id2);
        box2.setAttribute("maxlength", 2);
        box2.setAttribute("size", 2);
        question.appendChild(box2);

        num++;

        array.push(box1);
        array.push(box2);

        if(target != 0){
          const p = document.createTextNode(" + ");
          question.appendChild(p);
        }else{
          question.appendChild(e);
          box3.setAttribute("id", "b"+num);
          question.appendChild(box3);
          const sub2 = document.createElement("sub");
          sub2.appendChild(q);
          question.appendChild(sub2);
        }
      }
      document.getElementById(divId).appendChild(question);
      const butts = document.createElement("button");
      butts.setAttribute("id", "checkExp");
      const submit = document.createTextNode("Submit");
      butts.appendChild(submit);
      butts.onclick = function(){validate(val, targetBase, array, box3);};
      document.getElementById(divId).appendChild(butts);
      return num;
    }

    var expNum = 0;
    var divNum = 0;
    expNum += convertByExpansion(199, 10, 10, "step2", expNum);
    expNum += convertByExpansion(57, 10, 2, "step5", expNum);
    divNum += convertByDivision(199, 2, "step7", divNum);
    divNum += convertByDivision(15, 2, "step12", divNum);
    divNum += convertByDivision(13, 2, "step12", divNum);
    expNum += convertByExpansion(11, 10, 2, "step12", expNum);
    divNum += convertByDivision(14, 2, "step12", divNum);
    expNum += convertByExpansion(4, 10, 2, "step12", expNum);
  </script>
</body>

</html>
